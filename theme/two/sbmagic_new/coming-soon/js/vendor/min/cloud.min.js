function main_init(){"use strict";canvas=document.getElementById("panel");var e=canvas.getContext("2d");camera=new THREE.Camera(30,window.innerWidth/window.innerHeight,1,5e3);camera.position.z=6e3;scene=new THREE.Scene;geometry=new THREE.Geometry;var t=THREE.ImageUtils.loadTexture("img/clouds.png");t.magFilter=THREE.LinearMipMapLinearFilter;t.minFilter=THREE.LinearMipMapLinearFilter;var n=new THREE.Fog(2432306,-100,5e3);meshMaterial=new THREE.MeshShaderMaterial({uniforms:{map:{type:"t",value:2,texture:t},fogColor:{type:"c",value:n.color},fogNear:{type:"f",value:n.near},fogFar:{type:"f",value:n.far}},vertexShader:document.getElementById("vs").textContent,fragmentShader:document.getElementById("fs").textContent,depthTest:false});var r=new THREE.Mesh(new THREE.PlaneGeometry(64,64));for(i=0;i<1e4;i++){r.position.x=Math.random()*1e3-500;r.position.y=-Math.random()*Math.random()*200-15;r.position.z=i;r.rotation.z=Math.random()*Math.PI;r.scale.x=r.scale.y=Math.random()*Math.random()*1.5+.5;THREE.GeometryUtils.merge(geometry,r)}mesh=new THREE.Mesh(geometry,meshMaterial);scene.addObject(mesh);mesh=new THREE.Mesh(geometry,meshMaterial);mesh.position.z=-1e4;scene.addObject(mesh);renderer=new THREE.WebGLRenderer({antialias:false});renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);window.addEventListener("resize",onResize,false);setInterval(drawScene,30)}function onMousemove(e){"use strict";mouseX=(e.clientX-windowHalfX)*.3;mouseY=(e.clientY-windowHalfY)*.2}function onResize(e){"use strict";camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}function drawScene(){"use strict";position=((new Date).getTime()-startTime)*.1%1e4;camera.position.x+=mouseX*.01;camera.position.y+=-mouseY*.01;camera.position.z=-position+1e4;renderer.render(scene,camera)}var canvas,ctx;var camera,scene,renderer,meshMaterial,mesh,geometry,i,f;var mouseX=0,mouseY=0;var startTime=(new Date).getTime();var windowHalfX=window.innerWidth/2;var windowHalfY=window.innerHeight/2;if(window.attachEvent){window.attachEvent("onload",main_init)}else{if(window.onload){var curronload=window.onload;var newonload=function(){curronload();main_init()};window.onload=newonload}else{window.onload=main_init}}